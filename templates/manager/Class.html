{% extends 'layout.html' %} {% block content %}

<div class="content" style="margin-top: 30px">
  <div
    class="row justify-content-center"
    style="overflow-y: scroll; max-height: 90vb"
  >
    <div
      class="col-md-9 content-area"
      style="margin-top: 10px; margin-left: 30px"
    >
      <h2>Class List</h2>
      <button
        type="button"
        onclick="location.href='/manager/class_update?record_id='"
        class="btn btn-dark"
      >
        Insert
      </button>
      <table class="table table-striped table-bordered table-hover">
        <tr>
          <th>Class Id</th>
          <th>Class Name</th>
          <th>MaxCapacity</th>
          <th>Duration</th>
          <th>Room Num</th>
          <th>Update</th>
          <th>Delete</th>
        </tr>
        {% for record in records %}
        <tr>
          {% for field in record %}
          <td>{{field}}</td>

          {% endfor %}
          <td>
            <button
              type="button"
              onclick="location.href='/manager/class_update?record_id={{record[0]}}'"
              class="btn btn-dark"
            >
              Update
            </button>
          </td>
          <td>
            <button
              type="button"
              onclick="confirmDelete('{{record[0]}}')"
              class="btn btn-dark"
            >
              Delete
            </button>
          </td>
        </tr>
        {% endfor %}
      </table>
    </div>
  </div>
</div>
<script>
  function confirmDelete(record_id) {
    var r = confirm("Are you sure you want to deleteï¼Ÿ");
    if (r == true) {
      location.href = "/manager/class_delete?record=" + record_id;
    }
  }
</script>
{% endblock %}
