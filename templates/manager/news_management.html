{% extends 'layout.html' %} {% block content %}
<div class="content" style="margin-top: 30px">
  <div class="row justify-content-center">
    <div
      class="col-md-9 content-area"
      style="margin-top: 10px; margin-left: 30px"
    >
      <h2>News Management</h2>

      <a href="/manager/creat-news">
        <button
          type="button"
          class="btn btn-primary"
          style="float: left; margin-top: 20px; margin-bottom: 20px"
        >
          Creat News
        </button>
      </a>

      <table
        class="table table-striped table-bordered table-hover"
        style="margin-top: 50px"
      >
        <thead>
          <tr>
            <th>News Title</th>
            <th>Published Date</th>
            <th colspan="2">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for news in news_list %}
          <tr>
            <td>{{ news[1] }}</td>
            <td>{{ news[3] }}</td>
            <td>
              <button class="btn btn-primary">
                <a href="/manager/edit_news/{{news[0]}}" style="color: white"
                  >View</a
                >
              </button>
            </td>

            <td>
              <button
                type="button"
                onclick="confirmDelete('/manager/delete_news/{{news[0]}}')"
                class="btn btn-danger"
              >
                Delete
              </button>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<script>
  function confirmDelete(url) {
    if (confirm("Are you want to delete this news?")) {
      window.location.href = url;
    } else {
      return false;
    }
  }
</script>
{% endblock %}
