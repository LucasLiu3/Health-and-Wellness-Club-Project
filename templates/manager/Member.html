{% extends 'layout.html' %} {% block content %}

<div class="content" style="margin-top: 30px">
  <div
    class="row justify-content-center"
    style="overflow-y: scroll; max-height: 90vb"
  >
    <div
      class="col-md-9 content-area"
      style="margin-top: 10px; margin-left: 30px"
    >
      <h2>Member List</h2>
      <button
        type="button"
        onclick="location.href='/manager/member_update?username='"
        class="btn btn-primary"
        style="float: left; margin-top: 20px; margin-bottom: 20px"
      >
        Add New Member
      </button>
      <table
        class="table table-striped table-bordered table-hover"
        style="margin-top: 50px"
      >
        <tr>
          <th>User Name</th>
          <th>Title</th>
          <th>Full Name</th>
          <th>Status</th>
          <th colspan="3">Action</th>
        </tr>
        {% for member in members %}
        <tr>
          <td>{{member[0]}}</td>
          <td>{{member[1]}}</td>
          <td>{{member[2]}} {{member[3]}}</td>
          <td>{{member[9]}}</td>
          <td>
            <button
              type="button"
              onclick="location.href='/manager/member_detail?username={{member[0]}}'"
              class="btn btn-primary"
            >
              Detail
            </button>
          </td>
          <td>
            <button
              type="button"
              onclick="location.href='/manager/member_update?username={{member[0]}}'"
              class="btn btn-primary"
            >
              Update
            </button>
          </td>
          <td>
            <button
              type="button"
              onclick="confirmDelete('/manager/member_delete?username={{member[0]}}')"
              class="btn btn-danger"
            >
              Delete
            </button>
          </td>
        </tr>
        {% endfor %}
      </table>
    </div>
  </div>
</div>

<script>
  function confirmDelete(url) {
    if (confirm("Are you want to delete this info?")) {
      window.location.href = url;
    } else {
      return false;
    }
  }
</script>

{% endblock %}
