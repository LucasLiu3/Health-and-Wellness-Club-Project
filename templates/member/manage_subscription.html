{% extends 'layout.html' %} {% block content %}
<div class="content" style="margin-top: 30px">
  <div class="row justify-content-center">
    <div
      class="col-md-9 content-area"
      style="margin-top: 10px; margin-left: 30px"
    >
      <h2>Manage Subscription</h2>

      <table
        class="table table-striped table-bordered table-hover"
        style="margin-top: 50px"
      >
        <thead>
          <tr>
            <th>Member ID</th>
            <th>Start Time</th>
            <th>Expire Time</th>
            <th>Payment History</th>
            <th>Action</th>
            <!-- Add new column for action -->
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ subscription_details[1] }}</td>
            <!-- Membership_id -->
            <td>{{ subscription_details[3].strftime('%d-%m-%Y') }}</td>
            <!-- Start_time -->
            <td>{{ subscription_details[4].strftime('%d-%m-%Y') }}</td>
            <!-- Expire_time -->
            <td>
              <a
                href="{{ url_for('payment_history', member_id=subscription_details[1]) }}"
                class="btn btn-primary"
                >View</a
              >
            </td>
            <td>
              <a
                href="{{ url_for('renew_subscription', membership_id=subscription_details[0]) }}"
                class="btn btn-primary"
                >Renew</a
              >
            </td>
            <!-- Add renew button -->
          </tr>
        </tbody>
      </table>

      {% with messages = get_flashed_messages() %} {% if messages %}
      <p style="color: red">{{messages[0]}}</p>
      {% endif %} {% endwith %}
    </div>
  </div>
</div>
{% endblock %}
